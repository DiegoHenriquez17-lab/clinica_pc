{% extends "base.html" %}
{% block title %}Verificar estado · Clínica PC{% endblock %}
{% block page_title %}Entrega · Verificar estado{% endblock %}

{% block content %}
<form method="get" class="row g-2">
  <div class="col-12 col-sm-9">
    <input class="form-control" type="search" name="q" value="{{ query }}" placeholder="Buscar cliente por nombre…" autofocus>
  </div>
  <div class="col-12 col-sm-3 d-grid">
    <button class="btn btn-primary">Buscar</button>
  </div>
</form>

{% if query %}
  <hr class="my-3">
  <h6 class="text-muted mb-2">Resultados para: “{{ query }}”</h6>

  {% if resultados %}
    <ul class="list-group">
      {% for nombre in resultados %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span class="text-truncate">{{ nombre }}</span>
          <div class="btn-group">
            <a class="btn btn-sm btn-outline-primary" href="{% url 'entrega:verificar' nombre %}">Ver estado</a>
            <a class="btn btn-sm btn-primary" href="{% url 'entrega:reporte' nombre %}">Registrar entrega</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted m-0">No hay coincidencias.</p>
  {% endif %}
{% endif %}
{% endblock %}
