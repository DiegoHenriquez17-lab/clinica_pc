{# templates/diagnostico/edit.html #}
{% extends "base.html" %}
{% block title %}Editar diagnóstico · Clínica PC{% endblock %}
{% block page_title %}Diagnóstico · Editar{% endblock %}
{% block content %}
<form method="post" class="row g-3">
  {% csrf_token %}

  <div class="col-md-6">
    <label class="form-label">Cliente</label>
    <input type="text" class="form-control" value="{{ diagnostico.cliente.nombre }}" readonly>
  </div>

  <div class="col-md-6">
    <label class="form-label">Estudiante</label>
    <input type="text" class="form-control" value="{{ diagnostico.estudiante.nombre }}" readonly>
  </div>

  <div class="col-12">
    <label class="form-label">Equipo</label>
    <input type="text" class="form-control" value="{{ diagnostico.equipo }}" readonly>
  </div>

  <div class="col-12">
    <label class="form-label">Diagnóstico</label>
    <textarea class="form-control" name="diagnostico" rows="3" required>{{ diagnostico.diagnostico }}</textarea>
  </div>
  <div class="col-12">
    <label class="form-label">Solución propuesta</label>
    <textarea class="form-control" name="solucion" rows="3" required>{{ diagnostico.solucion }}</textarea>
  </div>
  <div class="col-12">
    <label class="form-label">Observaciones (opcional)</label>
    <textarea class="form-control" name="observaciones" rows="2" placeholder="Notas adicionales, piezas necesarias, etc.">{{ diagnostico.observaciones }}</textarea>
  </div>
  <div class="col-12">
    <label class="form-label d-block mb-2">Tipo de solución</label>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="tipo_solucion" id="t1" value="correctiva" {% if diagnostico.tipo_solucion == 'correctiva' %}checked{% endif %} required>
      <label class="form-check-label" for="t1">Correctiva</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="tipo_solucion" id="t2" value="preventiva" {% if diagnostico.tipo_solucion == 'preventiva' %}checked{% endif %}>
      <label class="form-check-label" for="t2">Preventiva</label>
    </div>
  </div>

  <div class="col-12 d-flex justify-content-end gap-2">
    <a href="{% url 'diagnostico:listado' %}" class="btn btn-outline-secondary">Ver listado</a>
    <button class="btn btn-primary">Actualizar diagnóstico</button>
  </div>
</form>
{% endblock %}
